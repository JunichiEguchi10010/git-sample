WordPress ç‰¹å®šã®ã‚«ãƒ†ã‚³ã‚™ãƒªãƒ¼ï½¥ã‚¿ã‚°ã®ä¸€è¦§ã¾ã§ã®ãƒªãƒ³ã‚¯ã‚’å–å¾—ã™ã‚‹æ–¹æ³•
ã€get_category_by_slug, get_category_linkã€‘20250417

ğŸ’¡ ã©ã‚“ãªã¨ãã«ä½¿ã†ï¼Ÿ
ä¾‹ãˆã°ï¼š

æŠ•ç¨¿ãƒšãƒ¼ã‚¸ã®ä¸‹ã«ã€Œã“ã®æŠ•ç¨¿ãŒå±ã—ã¦ã„ã‚‹ã‚«ãƒ†ã‚´ãƒªã®ä¸€è¦§ãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰ã€ã¨ãƒªãƒ³ã‚¯ã‚’å‡ºã—ãŸã„ã¨ãã€‚

ç‰¹å®šã‚«ãƒ†ã‚´ãƒªï¼ˆã“ã®å ´åˆ "javascript"ï¼‰ã¸ã®èª˜å°ãƒªãƒ³ã‚¯ã‚’å›ºå®šã§è¡¨ç¤ºã—ãŸã„ã¨ãã€‚

ãƒ†ãƒ¼ãƒã‚„ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ç‰¹å®šã®ã‚«ãƒ†ã‚´ãƒªãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ã‚’çµ„ã¿è¾¼ã¿ãŸã„ã¨ãã€‚

php
$cat = get_category_by_slug("javascript");
ã‚¹ãƒ©ãƒƒã‚°ï¼ˆ"javascript"ï¼‰ã‚’ä½¿ã£ã¦ï½¤WordPressã®ã‚«ãƒ†ã‚´ãƒªï½¢category ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼ï¼ˆåˆ†é¡ï¼‰ï½£æƒ…å ±ã‚’å–å¾—ã—ã¦ã„ã¾ã™ã€‚
è¿”ã•ã‚Œã‚‹ã®ã¯ã‚«ãƒ†ã‚´ãƒªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€Œjavascriptã€ã¨ã„ã†ã‚¹ãƒ©ãƒƒã‚°ã‚’æŒã¤ã‚«ãƒ†ã‚´ãƒªã‚’æ¢ã—ã¦ã„ã¾ã™ã€‚

php
$cat_id = $cat->term_id;
å…ˆã»ã©å–å¾—ã—ãŸã‚«ãƒ†ã‚´ãƒªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ$catï¼‰ã‹ã‚‰ï½¤ãã®IDï¼ˆterm_idï¼‰ã ã‘ã‚’å–ã‚Šå‡ºã—ã¦ã€$cat_idã«ä»£å…¥ã—ã¦ã„ã¾ã™ã€‚
ã“ã®IDã¯ãƒªãƒ³ã‚¯å–å¾—ãªã©ã«ä½¿ã†ãŸã‚ã«å¿…è¦ã§ã™ã€‚

php
$cat_link = get_category_link($cat_id);
ã‚«ãƒ†ã‚´ãƒªIDï¼ˆ$cat_idï¼‰ã‚’ä½¿ã£ã¦ã€ãã®ã‚«ãƒ†ã‚´ãƒªãƒšãƒ¼ã‚¸ã®URLã‚’å–å¾—ã—ã¦ã„ã¾ã™ã€‚get_category_link() é–¢æ•°ã¯ï½¤
æŒ‡å®šã—ãŸã‚«ãƒ†ã‚´ãƒªIDã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒšãƒ¼ã‚¸ã®ãƒªãƒ³ã‚¯ã‚’è¿”ã—ã¾ã™ã€‚



âœ… ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼ã®ãƒªãƒ³ã‚¯ã‚’æ‰±ã†å ´åˆã®åŸºæœ¬ãƒ«ãƒ¼ãƒ«ï¼š

ã‚±ãƒ¼ã‚¹	                        æ¨å¥¨ã•ã‚Œã‚‹é–¢æ•°
ã‚«ãƒ†ã‚´ãƒªãƒ¼ï¼ˆcategoryï¼‰	        get_category_by_slug()ï¼ˆå°‚ç”¨é–¢æ•°ï¼‰
ã‚¿ã‚°ï¼ˆpost_tagï¼‰	            get_term_by()ï¼ˆæ±ç”¨é–¢æ•°ï¼‰
ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼	         get_term_by()ï¼ˆå”¯ä¸€ã®é¸æŠè‚¢ï¼‰

ğŸ” è§£èª¬
âœ… get_category_by_slug() ã¯ ã‚«ãƒ†ã‚´ãƒªãƒ¼å°‚ç”¨ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆé–¢æ•°
å®Ÿéš›ã¯å†…éƒ¨çš„ã« get_term_by('slug', $slug, 'category') ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚

ã¤ã¾ã‚Šã€Œget_term_by() ã® category ç”¨ãƒ©ãƒƒãƒ‘ãƒ¼ã€ã§ã™ã€‚

ã‚«ãƒ†ã‚´ãƒªãƒ¼ã ã‘ä½¿ã†ãªã‚‰ã€å¯èª­æ€§ã‚‚é«˜ãã¦ç°¡æ½”ãªã®ã§äººæ°—ã€‚

âœ… get_term_by() ã¯ ã™ã¹ã¦ã®ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼ã«ä½¿ãˆã‚‹æ±ç”¨é–¢æ•°
category ã‚‚ post_tag ã‚‚ ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼ ã‚‚å…¨éƒ¨å¯¾å¿œã€‚

ãƒ•ãƒ¬ã‚­ã‚·ãƒ–ãƒ«ã«ä½¿ã„ãŸã„ãªã‚‰ã“ã¡ã‚‰ãŒä¾¿åˆ©ã€‚

ğŸ§© çµè«–ï¼ˆã©ã¡ã‚‰ã‚’ä½¿ã†ã®ãŒæ™®é€šï¼Ÿï¼‰
ä½¿ã„æ–¹	ç†ç”±
get_category_by_slug() ã‚’ä½¿ã†	ã‚«ãƒ†ã‚´ãƒªãƒ¼å°‚ç”¨ã®ã¨ãã¯ã€ç°¡æ½”ãƒ»èª­ã¿ã‚„ã™ã„ã®ã§å¤šãã®äººãŒä½¿ã„ã¾ã™ã€‚
get_term_by() ã‚’ä½¿ã†	ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼ã‚’æ„è­˜çš„ã«æ‰±ã„ãŸã„ã¨ãã€ã¾ãŸã¯ã‚¿ã‚°ã‚„ã‚«ã‚¹ã‚¿ãƒ åˆ†é¡ã«å¯¾å¿œã™ã‚‹ãªã‚‰å¿…é ˆã§ã™ã€‚


ã€ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼ã‚’ä½œæˆã™ã‚‹éš›ã®éšå±¤æ§‹é€ ã«ã¤ã„ã¦ã€‘
WordPressã§ã¯ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼ã‚’ä½œæˆã™ã‚‹éš›ã«ã€
éšå±¤æ§‹é€ ã‚’ã€Œã‚ã‚Šï¼ãªã—ã€ã©ã¡ã‚‰ã§ã‚‚è¨­å®šã§ãã¾ã™ã€‚

ğŸ” ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼ã®éšå±¤æ§‹é€ ã¯ hierarchical ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æ±ºã¾ã‚Šã¾ã™
php
register_taxonomy(
    'custom_tax',
    'post',
    array(
        'label' => 'ã‚«ã‚¹ã‚¿ãƒ åˆ†é¡',
        'hierarchical' => true, // â† ã“ã‚ŒãŒã€Œéšå±¤æ§‹é€ ã‚’æŒã¤ã‹ã©ã†ã‹ã€ã®è¨­å®š
    )
);
ğŸŸ¢ hierarchical => true
ã‚«ãƒ†ã‚´ãƒªãƒ¼ã®ã‚ˆã†ãª è¦ªå­æ§‹é€ ã‚ã‚Š

ç®¡ç†ç”»é¢ã§ã‚‚ãƒ„ãƒªãƒ¼è¡¨ç¤ºã•ã‚Œã‚‹

UIãŒã‚«ãƒ†ã‚´ãƒªãƒ¼ã¨ä¼¼ã‚‹

ğŸ”µ hierarchical => false
ã‚¿ã‚°ã®ã‚ˆã†ãª ãƒ•ãƒ©ãƒƒãƒˆæ§‹é€ 

å…¥åŠ›ã¯ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Š

UIãŒã‚¿ã‚°ã¨ä¼¼ã‚‹

âœ… ã¤ã¾ã‚Šçµè«–ã¯ã“ã†ï¼š

ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼	        éšå±¤æ§‹é€ 	        UIã®ç‰¹å¾´
category	            ã‚ã‚Š	        ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹å¼
post_tag	            ãªã—	        ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šå…¥åŠ›
ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼	  è‡ªç”±	          hierarchical ã§æ±ºã¾ã‚‹
ğŸ§© ä¾‹ï¼šéšå±¤æ§‹é€ ã‚ã‚Šã®ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼

php
register_taxonomy(
    'genre',
    'post',
    array(
        'label' => 'ã‚¸ãƒ£ãƒ³ãƒ«',
        'hierarchical' => true, // è¦ªå­æ§‹é€ ã‚’æŒãŸã›ã‚‹
        'public' => true,
        'rewrite' => array('slug' => 'genre'),
        'show_ui' => true,
        'show_in_rest' => true,
    )
);
ğŸ§© ä¾‹ï¼šéšå±¤æ§‹é€ ãªã—ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼
php
register_taxonomy(
    'area',
    'post',
    array(
        'label' => 'ã‚¨ãƒªã‚¢',
        'hierarchical' => false, // ãƒ•ãƒ©ãƒƒãƒˆæ§‹é€ 
        'public' => true,
        'rewrite' => array('slug' => 'area'),
        'show_ui' => true,
        'show_in_rest' => true,
    )
);

âœ… ã¾ã¨ã‚
post_tag ã®ã‚ˆã†ã«ã€Œéšå±¤ãªã—ã€ã‚‚å¯èƒ½ã ã—

category ã®ã‚ˆã†ã«ã€Œéšå±¤ã‚ã‚Šã€ã‚‚å¯èƒ½

ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼ã¯ãã®ä¸¡æ–¹ã‚’è¨­å®šå¯èƒ½




WordPress ã® post_tagï¼ˆã‚¿ã‚°ï¼‰ã¯ éšå±¤æ§‹é€ ãŒãªã„ï¼ãƒ•ãƒ©ãƒƒãƒˆæ§‹é€  ã§ã™ãŒã€ãã‚Œã§ã‚‚å†…éƒ¨çš„ã«ã¯ã€Œã‚¿ãƒ¼ãƒ ï¼ˆtermï¼‰ã€ã¨ã—ã¦ç®¡ç†ã•ã‚Œã¦ãŠã‚Šã€ã¡ã‚ƒã‚“ã¨ã‚¿ãƒ¼ãƒ IDã‚’æŒã£ã¦ã„ã¾ã™ã€‚

âœ… çµè«–ï¼š
ã‚¿ã‚°ï¼ˆpost_tagï¼‰ã‚‚ã€Œã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼ã®ä¸€ç¨®ã€ãªã®ã§ã€ä»–ã®ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼ã¨åŒã˜ã‚ˆã†ã«ã€Œã‚¿ãƒ¼ãƒ IDã€ã§ç®¡ç†ã•ã‚Œã¾ã™ã€‚

ğŸ” è©³ã—ãè§£èª¬
WordPressã®ã€Œåˆ†é¡ï¼ˆã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼ï¼‰ã€ã¯ã€ã™ã¹ã¦ term ã¨ã„ã†å˜ä½ã§ç™»éŒ²ã•ã‚Œã¾ã™ã€‚

ã‚¿ã‚°ï¼ˆpost_tagï¼‰ã‚‚ãã®1ã¤ãªã®ã§ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ§‹é€ ã¨ã—ã¦ã¯ä»–ã¨åŒã˜æ‰±ã„ã§ã™ã€‚

ğŸ’¡ ãŸã¨ãˆã°â€¦
php
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
$tag = get_term_by('slug', 'my-tag', 'post_tag');
$tag_id = $tag->term_id;
ã“ã® $tag_id ã¯ã€**ã€Œã‚¿ãƒ¼ãƒ IDï¼ˆterm_idï¼‰ã€**ã§ã‚ã‚Šã€ã‚«ãƒ†ã‚´ãƒªãƒ¼ã§ã‚‚ã‚¿ã‚°ã§ã‚‚ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼ã§ã‚‚å…±é€šã®IDã®æŒã¡æ–¹ã§ã™ã€‚

â“ã€Œã˜ã‚ƒã‚éšå±¤æ§‹é€ ã£ã¦ã©ã“ã§é•ã†ã®ï¼Ÿã€ã¨ã„ã†ã¨â€¦
terms ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã¯ã€Œéšå±¤æ§‹é€ ã€ã‚’ç¤ºã™ parent ã¨ã„ã†ã‚«ãƒ©ãƒ ãŒã‚ã‚Šã¾ã™ã€‚

ã‚¿ã‚°ï¼ˆpost_tagï¼‰ã¯å¸¸ã« parent = 0 ãªã®ã§éšå±¤ãŒãªã„æ‰±ã„ã«ãªã‚Šã¾ã™ã€‚

ã‚«ãƒ†ã‚´ãƒªãƒ¼ï¼ˆcategoryï¼‰ã‚„ hierarchical => true ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¯ã‚½ãƒãƒŸãƒ¼ã¯ parent ã‚’ä½¿ã£ã¦è¦ªå­é–¢ä¿‚ã‚’æŒã¦ã¾ã™ã€‚

âœ… ã¾ã¨ã‚

åˆ†é¡å	éšå±¤æ§‹é€ 	term_idï¼ˆã‚¿ãƒ¼ãƒ IDï¼‰	å‚™è€ƒ
category	ã‚ã‚Š	ã‚ã‚Š	get_category_by_slug() ãªã©ãŒä½¿ãˆã‚‹
post_tag	ãªã—	ã‚ã‚Š	get_term_by() ã§å–å¾—
ã‚«ã‚¹ã‚¿ãƒ åˆ†é¡	è¨­å®šå¯èƒ½	ã‚ã‚Š	hierarchical ã§åˆ‡æ›¿å¯èƒ½


WordPressã§ç‰¹å®šã®ã‚«ãƒ†ã‚³ã‚™ãƒªãƒ¼ä¸€è¦§ã¾ã§ã®ãƒªãƒ³ã‚¯ã‚’å–å¾—ã™ã‚‹ã€get_category_by_slug, get_category_linkã€‘
https://www.youtube.com/watch?v=IyjZlfyuC5I

WordPressã§ç‰¹å®šã®ã‚¿ã‚¯ã‚™ä¸€è¦§ã¾ã§ã®ãƒªãƒ³ã‚¯ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ã€get_term_by, get_tag_linkã€‘
https://www.youtube.com/watch?v=BanH6pkXyJw