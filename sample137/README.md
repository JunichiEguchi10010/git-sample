ブラウザで使われるストレージ（storage）の種類について　20250731

データや情報を一時的または恒久的に保存するための仕組みや装置のことです。
日常的に使うスマホやパソコンにも、フロントエンド、バックエンド、インフラにも必ずストレージがあります。

📦 ローカルストレージ（Local Storage）
保存場所：ブラウザ内（クライアント側）
🟥保存期間：明示的に削除されない限り保持
容量：約5〜10MB（ブラウザによる）
通信：サーバーとは非連携
用途：ユーザー設定・テーマなど永続的な保存

🔐 セッションストレージ（Session Storage）
保存場所：ブラウザ内（タブ単位）
🟥保存期間：ページを閉じるまで（セッション中のみ）
容量：ローカルストレージと同程度
通信：サーバーとは非連携
用途：フォーム入力・ページ内状態の保持

🍪 クッキー（Cookies）
🟥 保存場所：ブラウザ内＋HTTPヘッダーでサーバーと連携
🟥 保存期間：指定された有効期限かセッション終了まで
容量：約4KBと少ない
🟥 通信：毎回HTTPリクエストと共に送信される
用途：認証状態、トラッキング、ユーザー識別

🗄️ WebSQL（※非推奨）
保存場所：ブラウザ内のデータベース（SQLiteベース）
保存期間：基本的に永続的（ローカル保持）
容量：数十MB～（SQLite仕様に依存）
通信：サーバーとは非連携
用途：構造化されたデータの保存（テーブル管理が可能）

💡 注意点：WebSQLは仕様が正式に廃止予定で、現在はほとんどのブラウザで非推奨・非対応（Firefox・Edge・Safariなど）になっています。
代わりにIndexedDBの利用が推奨されています。


🧮 IndexedDB（インデックスド・データベース）
保存場所：ブラウザ内のデータベース（非リレーショナル）
保存期間：永続的（削除しない限り保持）
容量：数百MB〜（ブラウザにより制限あり）
通信：サーバーとは非連携
用途：🟥 構造化・大量データの保存、オフラインアプリや、複雑な状態管理
特徴：非同期API（Promise対応）
オブジェクトストア方式（RDBではない）
トランザクション対応
Web Workersとの相性が良い

💡 補足：IndexedDBは、WebSQLの後継技術として位置づけられ、多くのブラウザで標準対応されています。
大規模なアプリケーションや複雑なデータを扱う場合に最適です。

📊 比較表（まとめ）
項目	                保存期間	            容量	    通信	    構造化データ	        推奨度
ローカルストレージ	     永続	                ～10MB	    なし	    ❌（キー・バリュー） 	◎
セッションストレージ	 セッション中	         ～10MB	     なし	     ❌	                   ◯
クッキー	            指定可能／セッション中	 ～4KB	     ✅ 毎回送信	❌	                  ◎
WebSQL（非推奨）	    永続	                数十MB〜	なし	    ✅（SQLベース）	       ❌
IndexedDB	           永続	                   数百MB〜	   なし	       ✅（非リレーショナル）   ◎


🧠 1. ストレージの仕組み
ストレージは、コンピューターがデータを記録・保持・読み出しするための装置または仕組みです。保存は磁気・電気・光など、さまざまな物理現象を利用して行われます。
HDD（ハードディスク）：磁気ディスクにデータを書き込み回転させながら読み書きする。安価で大容量。
SSD（ソリッドステートドライブ）：フラッシュメモリを使い高速・静音。耐衝撃性も高い。
クラウドストレージ：インターネット経由でサーバー上に保存。スマホやPC間で共有しやすい。
🔧 仕組み的には、ファイルをバイナリ（0と1）として保存し、それを読み取ることで復元・表示しています。ファイルシステム（例：NTFS、FATなど）が、これを整理・管理します。

☁️ 2. クラウドストレージとは？
クラウドストレージは、インターネット上のサーバーにデータを保存する仕組みです。
データは自分の端末に置かれず、クラウドサービス会社が管理するストレージに存在します。
有名な例：Google Drive、Dropbox、OneDrive、iCloud

利点：
どこからでもアクセス可能
自動バックアップ
端末の容量節約

留意点：
オフライン時に使えない場合あり
セキュリティとプライバシーが重要（暗号化や認証がカギ）

💡 雲のマーク＝クラウドは「インターネット空間にある」というイメージから来ています！

✅ メモリとの違い（RAM vs ストレージ）
項目	           メモリ（RAM）	                       ストレージ
用途	           一時的な処理領域（プログラムの実行）	    データの長期保存
速度	           非常に高速	                          HDDよりSSDの方が高速
データの持続性	    電源を切ると消える（揮発性）	        電源を切っても保持（不揮発性）
容量	           数GB（例：8GB, 16GBなど）	          数百GB〜数TB
例	               作業机（作業中の書類を広げる場所）	    本棚（保存しておく書類の置き場）
🧪 イメージとしては「メモリは一時的な作業場」、「ストレージは保存庫」という感じです！


🧱 構造化データとは？
構造化データとは、データが「一定のルール・形式（構造）に従って整理されているもの」を指します。
例：行と列で構成される表形式のデータ（ExcelやSQLなど）
明確なキー（名前）と型（数値、文字列など）が定義されている
検索・管理・処理がしやすい

🧪 構造化データ vs 非構造化データ
種類	            説明	                    例
構造化データ	形式や構造があるデータ	    SQLデータベース、CSV、JSON（整形式）など
非構造化データ	構造がなく自由形式のデータ	 テキスト文章、画像、動画、音声など

💡 Webストレージにおける「構造化データ」
ここでの「構造化データ ❌／✅」という項目は、そのストレージ方式が複雑な構造（テーブルやオブジェクト）を扱えるかどうかを表しています。
❌：単純な「キーと値」のみ（例：ローカルストレージ、セッションストレージ、クッキー）
✅（SQLベース）：複数のテーブルや行を使って保存可能（例：WebSQL）
✅（非リレーショナル）：オブジェクト指向で階層構造やインデックス付き保存が可能（例：IndexedDB）
つまり、「構造化データを扱えるか？」は、そのストレージが複雑なデータ構造や検索性をサポートしているかに関係するんです！

🖼 フロントエンドのストレージ
基本的にはユーザーの操作画面やブラウザで動く部分ですが、以下のような「ローカルストレージ」系があります：
LocalStorage / SessionStorage：ブラウザがデータ（例：ログイン情報や設定）を保存できる領域
IndexedDB：ブラウザ内で構造化データを保存するデータベース的なもの → 一時的な保存や、オフライン対応に活用されます！

🔙 バックエンドでのストレージ
こちらは言うまでもなく本領発揮：
データベース（MySQL, MongoDBなど）：ユーザーデータやコンテンツ管理
ファイル保存（画像、書類など）：ストレージサーバーやクラウドへ保存
キャッシュ（Redisなど）：高速なデータアクセスのための一時保存

🛠 インフラ領域は？
ここが物理レベルのストレージ活用：
NAS / SAN / ローカルディスク：物理的なデータ保存装置
クラウドストレージ（S3, Azure Blobなど）：スケーラブルで冗長化された保存方法
バックアップ・アーカイブ：障害対策や長期保存目的