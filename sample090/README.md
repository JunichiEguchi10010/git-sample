React useStateãªã©ã®é–¢æ•°åž‹æ›´æ–° 20250603

âœ…é–¢æ•°åž‹æ›´æ–°ã¨ã¯ï¼Ÿ
js
setState((prev) => æ–°ã—ã„å€¤);
ã“ã®ã‚ˆã†ã«ã€**ã€Œå‰ã®çŠ¶æ…‹ (prev) ã‚’å¼•æ•°ã¨ã—ã¦å—ã‘å–ã‚Šã€ãã‚Œã‚’ä½¿ã£ã¦æ–°ã—ã„çŠ¶æ…‹ã‚’è¿”ã™ã€**æ›´æ–°æ–¹æ³•ã§ã™ã€‚

ðŸ§  ãªãœä½¿ã†ã®ã‹ï¼Ÿ
Reactã§ã¯ setState ã‚’é€£ç¶šã§å‘¼ã‚“ã ã‚Šã€éžåŒæœŸçš„ã«çŠ¶æ…‹ãŒå¤‰ã‚ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã®ã¨ã å¤ã„çŠ¶æ…‹ã‚’å‚ç…§ã—ã¦ã—ã¾ã†ã¨ã€æ„å›³ã—ãŸæ›´æ–°ãŒè¡Œã‚ã‚Œãªã„ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

âŒ æ‚ªã„ä¾‹ï¼šåŒæœŸã£ã½ãæ›¸ã„ã¦ãƒã‚°ã«ãªã‚‹
js
setQuizIndex(quizIndex + 1);
setQuizIndex(quizIndex + 1);
2å›žåŠ ç®—ã—ãŸã„ã®ã«ã€quizIndex ãŒåŒã˜å€¤ã¨ã—ã¦ä½¿ã‚ã‚Œã€1å›žåˆ†ã—ã‹å¢—ãˆãªã„ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

âœ… è‰¯ã„ä¾‹ï¼šé–¢æ•°åž‹æ›´æ–°ãªã‚‰ç¢ºå®Ÿã«ç©ã¿ä¸ŠãŒã‚‹
js
setQuizIndex((prev) => prev + 1);
setQuizIndex((prev) => prev + 1);
ã“ã®æ›¸ãæ–¹ãªã‚‰ã€æœ€æ–°ã®çŠ¶æ…‹ prev ã‚’æ¯Žå›žå—ã‘å–ã‚‹ã®ã§ã€ç¢ºå®Ÿã«2å›žåˆ†åŠ ç®—ã•ã‚Œã¾ã™ã€‚

ðŸ§ª ä½¿ã„ã©ã“ã‚ã®å…·ä½“ä¾‹
â‘  ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ã‚„ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
js
setCount((prev) => prev + 1);

â‘¡ çŠ¶æ…‹ã‚’è¤‡æ•°ç®‡æ‰€ã‹ã‚‰å¤‰æ›´ã™ã‚‹ã¨ã
ä¾‹ãˆã°ã€WebSocket ã§å—ã‘å–ã‚‹ãŸã³ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿½åŠ ï¼š

js
setMessages((prev) => [...prev, newMessage]);

â‘¢ éžåŒæœŸå‡¦ç†ã®ä¸­ã§æ›´æ–°ã™ã‚‹ã¨ã
js
fetch('/api/items').then(() => {
  setItems((prev) => [...prev, newItem]);
});

â‘£ åŒã˜ setState ã‚’é€£ç¶šã—ã¦å‘¼ã¶ã¨ã
js
setScore((prev) => prev + 1);
setScore((prev) => prev + 1); // ã“ã‚Œã‚‚OKï¼

ðŸ§© ã¾ã¨ã‚
é …ç›®	                    å†…å®¹
âœ… ä½•ã‹ï¼Ÿ	        å‰ã®çŠ¶æ…‹ prev ã‚’å—ã‘å–ã£ã¦ã€ãã‚Œã‚’ã‚‚ã¨ã«æ–°ã—ã„çŠ¶æ…‹ã‚’è¿”ã™æ›¸ãæ–¹
âœ… ä½¿ã†ç†ç”±	        çŠ¶æ…‹ãŒå¤ããªã‚‹å•é¡Œã‚’é˜²ã’ã‚‹ï¼ˆéžåŒæœŸã‚„è¤‡æ•°æ›´æ–°ã«å¼·ã„ï¼‰
âœ… ã‚ˆãä½¿ã†å ´é¢	   ã€€ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã€é…åˆ—ã®è¿½åŠ ã€é€£ç¶šæ›´æ–°ã€éžåŒæœŸå‡¦ç†ã®ä¸­

ðŸ’¬ è£œè¶³ï¼šçŠ¶æ…‹ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚„é…åˆ—ã§ã‚‚OK
js
setUser((prev) => ({ ...prev, name: 'Junichi' }));
setTodos((prev) => [...prev, newTodo]);