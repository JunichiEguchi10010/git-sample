WordPress サブクエリのページネーション404問題 20250529

一般的なプログラミングの用語で言えば、「グローバル変数の影響による予期しない動作」とも言えます。
WordPressでは paged がグローバルに管理されており、それがメインクエリの仕様に基づいてページネーションを制御するため、
サブクエリが独立して動作しないという問題


✅ 方法①: メインクエリーを書き換える(推奨)
functions.php でメインクエリーの投稿タイプをカスタム投稿（ニュースなど）に変更
query->set('post_type', 'news'); でメインクエリーを設定
query->set('posts_per_page', 5); で表示件数を決定
front-page.php のサブクエリーを削除し、メインクエリーのループ処理に変更 ➡ メインクエリーのページネーションを直接管理し、404エラーを防ぐ

✅ 方法②: メインクエリとサブクエリのページネーションを独立させる
メインクエリーは paged で通常のページネーションを管理
サブクエリーは sub_paged という別のGET変数で独立管理 ➡ メインクエリーとは関係なく、サブクエリー専用のページネーションを動作させる

✅ 方法③: 独自のページネーションリンクを追加
WordPressの paginate_links() はメインクエリーを基準に動作
サブクエリー専用のリンクを作成し、独立したページネーションを適用 ➡ サブクエリーのページ送りをメインクエリーと完全に分離する



【WordPress】ページネーション404 本当の対応方法【ネットの９割が間違ってる】
 https://www.youtube.com/watch?v=hOm8rj8O9yw