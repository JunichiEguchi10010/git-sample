ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã«ãŠã‘ã‚‹ã€Œãƒ†ã‚¹ãƒˆï¼ˆãƒ†ã‚¹ãƒˆè¨­è¨ˆãƒ»ãƒ†ã‚¹ãƒˆæ‰‹æ³•ãƒ»TDDï¼‰ã€ã«ã¤ã„ã¦ã€€20250626

âœ… å…¨ä½“æ¦‚è¦ï¼šãªãœãƒ†ã‚¹ãƒˆãŒå¿…è¦ã‹ï¼Ÿ
ã€Œå‹•ã‹ãªã‘ã‚Œã°ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé›¢ã‚Œã‚‹ã€ â†’ ä¿¡é ¼ã‚’å¾—ã‚‹ãŸã‚ã«ã¯å“è³ªç®¡ç†ãŒé‡è¦
ãƒ†ã‚¹ãƒˆã¯ã€Œã‚³ãƒ¼ãƒ‰ãŒä»•æ§˜é€šã‚Šå‹•ãã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€ã ã‘ã§ãªãã€ã€ŒãƒŸã‚¹ã‚„ãƒã‚°ã‚’æœªç„¶ã«é˜²ãã€ãŸã‚ã®æ‰‹æ®µã€‚
å€‹äººé–‹ç™ºã§ã‚‚ã€Œæœ€ä½é™ã®ãƒ†ã‚¹ãƒˆã€ã¯å¿…é ˆã€‚

âœ… ãƒ†ã‚¹ãƒˆã®2åˆ†é¡
ç¨®é¡	                    å†…å®¹	                    ä¾‹
æ€§çš„ãƒ†ã‚¹ãƒˆï¼ˆé™çš„ï¼‰	    ã‚³ãƒ¼ãƒ‰ã‚’ã€Œå‹•ã‹ã•ãšã€ã«ç¢ºèª	        ãƒªãƒ³ã‚¿ãƒ¼ã€å‹ãƒã‚§ãƒƒã‚¯ã€ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼
å‹•çš„ãƒ†ã‚¹ãƒˆï¼ˆåŒçš„ï¼‰  	å®Ÿéš›ã«ã€Œå‹•ã‹ã—ã¦ã€ç¢ºèª	            å˜ä½“ãƒ†ã‚¹ãƒˆã€çµåˆãƒ†ã‚¹ãƒˆã€ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆã€å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆ

âœ… å‹•çš„ãƒ†ã‚¹ãƒˆã®4ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆç²’åº¦ã«ã‚ˆã‚‹é•ã„ï¼‰
ãƒ†ã‚¹ãƒˆå	                å†…å®¹
ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆå˜ä½“ï¼‰	  1é–¢æ•°ãƒ»1ãƒ¡ã‚½ãƒƒãƒ‰å˜ä½ã§ç¢ºèª
çµåˆãƒ†ã‚¹ãƒˆ	            ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒå£«ã®é€£æºï¼ˆä¾‹ï¼šã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼â‡„ãƒ¢ãƒ‡ãƒ«â‡„ãƒ“ãƒ¥ãƒ¼ï¼‰
ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ	        ã‚¢ãƒ—ãƒªå…¨ä½“ãŒä»•æ§˜é€šã‚Šå‹•ãã‹
å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆ	        ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚„ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã§ã®æœ€çµ‚ç¢ºèª

âœ… ãƒ†ã‚¹ãƒˆã®è¦–ç‚¹ï¼šãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒƒã‚¯ã‚¹ã¨ãƒ–ãƒ©ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹
åç§°	                        ãƒ†ã‚¹ãƒˆå¯¾è±¡	                        æ‹…å½“è€…
ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒƒã‚¯ã‚¹	ã‚³ãƒ¼ãƒ‰å†…éƒ¨ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’çŸ¥ã£ãŸä¸Šã§å…¨åˆ†å²ã‚’ç¢ºèª	    é–‹ç™ºè€…
ãƒ–ãƒ©ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹	UIã‚„ä»•æ§˜ã‚’ã‚‚ã¨ã«å¤–éƒ¨ã‹ã‚‰å…¥åŠ›ã—ã¦ç¢ºèª	           QAã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãªã©

âœ… ãƒ†ã‚¹ãƒˆè¨­è¨ˆæŠ€æ³•ï¼ˆä»£è¡¨çš„ãª4ã¤ï¼‰
åç§°	                å†…å®¹	                                        ä¾‹
åŒå€¤ã‚¯ãƒ©ã‚¹ãƒ†ã‚¹ãƒˆ	å¦¥å½“ãƒ»ä¸å½“ãªå…¥åŠ›ã‚¯ãƒ©ã‚¹ã«åˆ†ã‘ã¦ç¢ºèª	              1ã€œ100ãªã‚‰ã€50, -1, 150 ãªã©
å¢ƒç•Œå€¤åˆ†æ	        å¢ƒç•Œã®å‰å¾Œã‚’ãƒã‚§ãƒƒã‚¯	                        0, 1, 100, 101
çŠ¶æ…‹é·ç§»ãƒ†ã‚¹ãƒˆ	    çŠ¶æ…‹å¤‰åŒ–ï¼ˆä¾‹ï¼šãƒ­ã‚°ã‚¤ãƒ³â‡„ãƒ­ã‚°ã‚¢ã‚¦ãƒˆï¼‰ã‚’ç¶²ç¾…	
çµ„ã¿åˆã‚ã›ãƒ†ã‚¹ãƒˆ	å…¥åŠ›ã®å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ãƒ†ã‚¹ãƒˆï¼ˆãƒšã‚¢ãƒ¯ã‚¤ã‚ºæ³•ã§åŠ¹ç‡åŒ–ï¼‰	

âœ… TDDï¼ˆãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼‰
ãƒ†ã‚¹ãƒˆ â†’ ã‚³ãƒ¼ãƒ‰ â†’ ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° ã®é †ã§é€²ã‚ã‚‹é–‹ç™ºæ‰‹æ³•ã€‚
ã‚¨ãƒ©ãƒ¼ã‹ã‚‰å§‹ã‚ã‚‹ â†’ æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã§ãƒ‘ã‚¹ â†’ æœ¬å®Ÿè£…
ãƒ¡ãƒªãƒƒãƒˆï¼šä»•æ§˜ãŒãƒ–ãƒ¬ãªã„ã€ãƒ†ã‚¹ãƒˆæ¼ã‚Œã‚’é˜²ã’ã‚‹ã€ãƒªã‚ºãƒ ã§é–‹ç™ºãŒé€²ã‚€

âœ… è‡ªå‹•ãƒ†ã‚¹ãƒˆ vs æ‰‹å‹•ãƒ†ã‚¹ãƒˆ
è‡ªå‹•ãƒ†ã‚¹ãƒˆ	                    æ‰‹å‹•ãƒ†ã‚¹ãƒˆ
æ­£ç¢ºãƒ»é«˜é€Ÿãƒ»å†ç¾æ€§ã‚ã‚Š	     æŸ”è»Ÿãƒ»ç›®è¦–ãƒ»äººé–“ã®ç›´æ„Ÿã«å¯¾å¿œ
ãƒ¦ãƒ‹ãƒƒãƒˆãƒ»CI/CDå‘ã	        UIå´©ã‚Œãƒ»é•å’Œæ„Ÿãªã©ã«å¯¾å¿œ
ã‚³ã‚¹ãƒˆåŠ¹ç‡è‰¯ã—	            ãƒªãƒªãƒ¼ã‚¹ç›´å‰ã®æœ€çµ‚ç¢ºèªã§é‡è¦

âœ… ãƒ†ã‚¹ãƒˆè¨­è¨ˆã®æˆ¦ç•¥
ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰
ä¸‹ã«è¡Œãã»ã©ã‚³ã‚¹ãƒˆãŒå®‰ããƒ»å£Šã‚Œã«ãã„
ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¯ã—ã£ã‹ã‚Šã€UIãƒ†ã‚¹ãƒˆã¯å¿…è¦æœ€ä½é™

  â–² UIãƒ†ã‚¹ãƒˆï¼ˆé«˜ã‚³ã‚¹ãƒˆãƒ»å£Šã‚Œã‚„ã™ã„ï¼‰
  â–² çµåˆãƒ†ã‚¹ãƒˆ
  â–² ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆå®‰å®šãƒ»é«˜é€Ÿï¼‰

ãƒªã‚¹ã‚¯ãƒ™ãƒ¼ã‚¹ãƒ‰ãƒ†ã‚¹ãƒˆ
é‡è¦åº¦ãŒé«˜ãã€å£Šã‚ŒãŸã‚‰å›°ã‚‹ç®‡æ‰€ã«ãƒªã‚½ãƒ¼ã‚¹é›†ä¸­
ä¾‹ï¼šæ±ºæ¸ˆã€èªè¨¼ã€æ©Ÿå¯†æƒ…å ±å‡¦ç†éƒ¨åˆ†ã¯å³é‡ã«ãƒ†ã‚¹ãƒˆ

âœ… ãƒ†ã‚¹ãƒˆã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¨æ‹…å½“è€…ï¼ˆé–‹ç™ºãƒ•ãƒ­ãƒ¼ã¨ã®é€£æºï¼‰
ãƒ•ã‚§ãƒ¼ã‚º	å†…å®¹	                        æ‹…å½“
è¦ä»¶å®šç¾©	E2Eæ¡ä»¶ã€å—ã‘å…¥ã‚Œæ¡ä»¶ã®è¨­è¨ˆ 	ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚ªãƒ¼ãƒŠãƒ¼ã€QA
å®Ÿè£…å‰	    TDDã€å˜ä½“è¨­è¨ˆ	               ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢
å®Ÿè£…ä¸­	    å˜ä½“ãƒ»çµåˆãƒ†ã‚¹ãƒˆï¼ˆCIï¼‰	        ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢
å®Ÿè£…å¾Œ	    UIãƒ†ã‚¹ãƒˆã€æ¢ç´¢çš„ãƒ†ã‚¹ãƒˆ	        QAã€ãƒ‡ã‚£ãƒ¬ã‚¯ã‚¿ãƒ¼ã€é–‹ç™ºè€…
ãƒªãƒªãƒ¼ã‚¹å‰	ã‚¹ãƒ¢ãƒ¼ã‚¯ãƒ†ã‚¹ãƒˆ	                å…¨å“¡ã§ç¢ºèª

âœ… ã¾ã¨ã‚
ãƒ†ã‚¹ãƒˆã¯ã€Œå“è³ªä¿è¨¼ã®æ ¹å¹¹ã€ã€‚è¨­è¨ˆæ®µéšã‹ã‚‰é‡è¦ã€‚
ãƒ†ã‚¹ãƒˆã®ç¨®é¡ãƒ»ç²’åº¦ãƒ»æ‰‹æ³•ã‚’ç†è§£ã™ã‚‹ã¨ã€Œä½•ã‚’ã©ã†ç¢ºèªã™ã¹ãã‹ã€ãŒæ˜ç¢ºã«ãªã‚‹ã€‚
TDDã‚’æ„è­˜ã™ã‚‹ã“ã¨ã§ã€Œä»•æ§˜é€šã‚Šã§æ¼ã‚Œã®ãªã„é–‹ç™ºã€ãŒå¯èƒ½ã«ã€‚
è‡ªå‹•ï¼æ‰‹å‹•ãƒ»ãƒ›ãƒ¯ã‚¤ãƒˆï¼ãƒ–ãƒ©ãƒƒã‚¯ãƒ»æˆ¦ç•¥çš„åˆ†é…ãŒå¤§äº‹ã€‚


å…·ä½“çš„ãªãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
âœ… 1. ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆå˜ä½“ãƒ†ã‚¹ãƒˆï¼‰
å¯¾è±¡ï¼šé–¢æ•°å˜ä½“ã®ãƒ†ã‚¹ãƒˆ
js
// sum.js
export function sum(a, b) {
  return a + b;
}

js
// sum.test.js
import { sum } from './sum';

test('adds 1 + 2 to equal 3', () => {
  expect(sum(1, 2)).toBe(3);
});

âœ… 2. çµåˆãƒ†ã‚¹ãƒˆï¼ˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é€£æºã®ãƒ†ã‚¹ãƒˆï¼‰
å¯¾è±¡ï¼šè¤‡æ•°é–¢æ•°ãƒ»ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“ã®é€£æºç¢ºèª
js
// userService.js
import { getUserFromDB } from './db';
import { formatUser } from './formatter';

export function getFormattedUser(id) {
  const user = getUserFromDB(id);
  return formatUser(user);
}

js
// userService.test.js
import { getFormattedUser } from './userService';
import * as db from './db';
import * as formatter from './formatter';

test('gets user and formats it', () => {
  jest.spyOn(db, 'getUserFromDB').mockReturnValue({ name: 'John', age: 30 });
  jest.spyOn(formatter, 'formatUser').mockImplementation(user => `Name: ${user.name}, Age: ${user.age}`);

  const result = getFormattedUser(1);
  expect(result).toBe('Name: John, Age: 30');
});

âœ… 3. ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆï¼ˆã‚¢ãƒ—ãƒªå…¨ä½“ã®ä»•æ§˜ç¢ºèªï¼‰
å¯¾è±¡ï¼šã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æµã‚Œï¼ˆä¾‹ï¼šãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ï¼‰
jsx
// ContactForm.jsx
import React, { useState } from 'react';

export function ContactForm({ onSubmit }) {
  const [message, setMessage] = useState('');
  return (
    <form onSubmit={(e) => { e.preventDefault(); onSubmit(message); }}>
      <input
        type="text"
        placeholder="Your message"
        value={message}
        onChange={(e) => setMessage(e.target.value)}
      />
      <button type="submit">Send</button>
    </form>
  );
}

jsx
// ContactForm.test.jsx
import { render, screen, fireEvent } from '@testing-library/react';
import { ContactForm } from './ContactForm';

test('submits the form with user input', () => {
  const handleSubmit = jest.fn();
  render(<ContactForm onSubmit={handleSubmit} />);

  fireEvent.change(screen.getByPlaceholderText(/your message/i), {
    target: { value: 'Hello' },
  });
  fireEvent.click(screen.getByText(/send/i));

  expect(handleSubmit).toHaveBeenCalledWith('Hello');
});

âœ… 4. å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã®æœ€çµ‚ç¢ºèªï¼‰
å¯¾è±¡ï¼še2eãƒ†ã‚¹ãƒˆã€‚Cypressãªã©ã§ãƒ–ãƒ©ã‚¦ã‚¶å‹•ä½œç¢ºèª
js
// contact_form.cy.js (Cypress)
describe('Contact Form', () => {
  it('should allow a user to submit a message', () => {
    cy.visit('/contact');
    cy.get('input[placeholder="Your message"]').type('Test message');
    cy.contains('Send').click();
    cy.contains('Message sent!').should('be.visible');
  });
});
ğŸ” è£œè¶³ï¼šã©ã‚Œã‚’ä½¿ã†ã¹ãï¼Ÿ
ãƒ†ã‚¹ãƒˆç¨®åˆ¥	    å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°	           å·¥æ•°	        ãƒ„ãƒ¼ãƒ«ä¾‹
ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ  é–‹ç™ºä¸­éšæ™‚	                ä½	        Jest, Mocha, Vitest
çµåˆãƒ†ã‚¹ãƒˆ	    å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å®Œæˆæ™‚	        ä¸­	        Jest + Mock/Spy
ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ	æ©Ÿèƒ½ãŒä¸€é€šã‚Šå®Œæˆã—ãŸæ®µéšã§	ã‚„ã‚„é«˜	      React Testing Library
å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆ	ãƒªãƒªãƒ¼ã‚¹å‰	                é«˜	        Cypress, Playwright, Puppeteer


âœ… 1. ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ä½¿ã„æ–¹ï¼ˆJestï¼‰
ç›®çš„ï¼š
ã€Œ1ã¤ã®é–¢æ•°ãŒæ­£ã—ãå‹•ãã‹ã€ã‚’ãƒã‚§ãƒƒã‚¯
ä¾‹ï¼šsum(a, b)ã¨ã„ã†é–¢æ•°ãŒæ­£ã—ã„ã‹ï¼Ÿ
1. ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹
sum.js

js
export function sum(a, b) {
  return a + b;
}
2. ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹
sum.test.js

js
import { sum } from './sum';

test('adds 1 + 2 to equal 3', () => {
  expect(sum(1, 2)).toBe(3);
});
3. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ–¹æ³•ï¼ˆã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼‰
bash
npx jest
âœ… æˆåŠŸã™ã‚‹ã¨ã€Œâœ“ adds 1 + 2 to equal 3ã€ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚


âœ… 2. çµåˆãƒ†ã‚¹ãƒˆã®ä½¿ã„æ–¹
ç›®çš„ï¼š
è¤‡æ•°ã®é–¢æ•°ãŒæ­£ã—ãé€£æºã§ãã‚‹ã‹ã‚’ãƒ†ã‚¹ãƒˆ
ä¾‹ï¼šDBã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å–å¾—ã—ã¦ã€æ•´å½¢ã™ã‚‹é–¢æ•°ã‚’ãƒ†ã‚¹ãƒˆã—ãŸã„
js
// userService.js
import { getUserFromDB } from './db';
import { formatUser } from './formatter';

export function getFormattedUser(id) {
  const user = getUserFromDB(id);
  return formatUser(user);
}
ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆuserService.test.jsï¼‰

js
import { getFormattedUser } from './userService';
import * as db from './db';
import * as formatter from './formatter';

test('gets user and formats it', () => {
  jest.spyOn(db, 'getUserFromDB').mockReturnValue({ name: 'John', age: 30 });
  jest.spyOn(formatter, 'formatUser').mockImplementation(user => `Name: ${user.name}, Age: ${user.age}`);

  const result = getFormattedUser(1);
  expect(result).toBe('Name: John, Age: 30');
});
ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼š
bash
npx jest
âœ… ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å‹•ãã‚’ã€Œä»®ã«æ±ºã‚ã¦ã€é€£æºã ã‘ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚


âœ… 3. ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆã®ä½¿ã„æ–¹ï¼ˆReactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
ç›®çš„ï¼š
ã€Œç”»é¢ã§ã®å‹•ä½œã€ã‚’ç¢ºèªï¼ˆä¾‹ï¼šãƒ•ã‚©ãƒ¼ãƒ ãŒé€ä¿¡ã•ã‚Œã‚‹ã‹ï¼‰
ä¾‹ï¼šReactã®ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ†ã‚¹ãƒˆ
jsx
// ContactForm.jsx
export function ContactForm({ onSubmit }) {
  const [message, setMessage] = useState('');
  return (
    <form onSubmit={(e) => { e.preventDefault(); onSubmit(message); }}>
      <input
        placeholder="Your message"
        value={message}
        onChange={(e) => setMessage(e.target.value)}
      />
      <button type="submit">Send</button>
    </form>
  );
}

ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆContactForm.test.jsxï¼‰
jsx
import { render, screen, fireEvent } from '@testing-library/react';
import { ContactForm } from './ContactForm';

test('form submits the user input', () => {
  const handleSubmit = jest.fn();
  render(<ContactForm onSubmit={handleSubmit} />);

  fireEvent.change(screen.getByPlaceholderText(/your message/i), {
    target: { value: 'Hello' },
  });
  fireEvent.click(screen.getByText(/send/i));

  expect(handleSubmit).toHaveBeenCalledWith('Hello');
});
ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼š
bash
npx jest
âœ… @testing-library/react ã‚’ä½¿ã£ã¦ã€ã€Œãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸã‚‰ã©ã†ãªã‚‹ã‹ï¼Ÿã€ã‚’ãƒã‚§ãƒƒã‚¯

âœ… 4. å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆï¼ˆE2Eï¼‰ã®ä½¿ã„æ–¹ï¼ˆCypressï¼‰
ç›®çš„ï¼š
ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®Ÿéš›ã«è§¦ã£ãŸã¨ãã¨åŒã˜å‹•ä½œã€ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ç¢ºèª
ä¾‹ï¼šãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ãŒã§ãã‚‹ã‹ï¼Ÿ
js
// contact_form.cy.js
describe('Contact Form', () => {
  it('should allow user to submit message', () => {
    cy.visit('/contact'); // ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹
    cy.get('input[placeholder="Your message"]').type('Test message');
    cy.contains('Send').click();
    cy.contains('Message sent!').should('be.visible');
  });
});

å®Ÿè¡Œæ‰‹é †ï¼ˆCypressã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã®å ´åˆï¼‰ï¼š
bash
npx cypress open
âœ… GUIã§ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ãã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã‚„é€ä¿¡ãŒç›®ã§è¦‹ã¦ç¢ºèªã§ãã¾ã™ã€‚

ğŸ“Œ è£œè¶³ï¼šãƒ†ã‚¹ãƒˆå°å…¥ã®ã‚¤ãƒ¡ãƒ¼ã‚¸
ã‚¹ãƒ†ãƒƒãƒ—	            ç›®çš„	            ãƒ„ãƒ¼ãƒ«
sum()ãŒæ­£ã—ã„ï¼Ÿ 	 ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ	        Jest
getUser â†’ format	ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®é€£æºç¢ºèª	Jest + Mock
ãƒœã‚¿ãƒ³æŠ¼ã™ã¨é€ä¿¡ï¼Ÿ    UIã®å‹•ä½œç¢ºèª	        React Testing Library
æœ¬ç•ªç’°å¢ƒã§å‹•ãï¼Ÿ	  ãƒ–ãƒ©ã‚¦ã‚¶ã®è‡ªå‹•æ“ä½œãƒ†ã‚¹ãƒˆ	Cypress

è¿·ã£ãŸã‚‰ã“ã®é †ï¼
ğŸ§ª ã¾ãš ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
ğŸ”— æ¬¡ã« çµåˆãƒ†ã‚¹ãƒˆ
ğŸ–¥ï¸ UIãŒã§ããŸã‚‰ ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ
ğŸŒ æœ¬ç•ªç›´å‰ã« å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆ


ğŸ› ï¸ 1. ãƒ†ã‚¹ãƒˆç’°å¢ƒã®æ§‹ç¯‰æ‰‹é †ï¼ˆJest + React + Cypress ç·¨ï¼‰
â‘  Node.jsãŒå¿…è¦ã§ã™ï¼ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆãªã‚‰ã‚¹ã‚­ãƒƒãƒ—ï¼‰
https://nodejs.org/ ã«ã‚¢ã‚¯ã‚»ã‚¹
ã€ŒLTSç‰ˆã€ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆæ¨å¥¨ï¼‰

â‘¡ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆï¼ˆãªã„å ´åˆï¼‰
bash
mkdir my-app
cd my-app
npm init -y
â‘¢ å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
âœ… åŸºæœ¬ï¼ˆJestï¼‰
bash
npm install --save-dev jest
âœ… Reactï¼ˆä½¿ã£ã¦ã„ã‚‹å ´åˆï¼‰
bash
npm install react react-dom
npm install --save-dev @testing-library/react @testing-library/jest-dom
âœ… Babelï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
bash
npm install --save-dev babel-jest @babel/preset-env @babel/preset-react
ğŸ“„ .babelrc ã‚’ä½œæˆï¼š

json
{
  "presets": ["@babel/preset-env", "@babel/preset-react"]
}
â‘£ Jestã®è¨­å®š
ğŸ“„ package.json ã«ä»¥ä¸‹ã‚’è¿½è¨˜ï¼š

json
"scripts": {
  "test": "jest"
},
"jest": {
  "testEnvironment": "jsdom"
}
â‘¤ Cypressã®å°å…¥ï¼ˆå—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆ/E2Eï¼‰
bash
npm install --save-dev cypress
åˆæœŸåŒ–ã‚³ãƒãƒ³ãƒ‰ï¼š

bash
npx cypress open
â¡ï¸ è‡ªå‹•çš„ã« cypress/ ãƒ•ã‚©ãƒ«ãƒ€ã¨ã‚µãƒ³ãƒ—ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

ğŸ’» 2. VS Code ã§ã®è¨­å®šæ‰‹é †
âœ… æ‹¡å¼µæ©Ÿèƒ½ã‚’å…¥ã‚Œã‚‹
æ‹¡å¼µæ©Ÿèƒ½å	                    èª¬æ˜
Jest	                ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ»å¤±æ•—ç®‡æ‰€ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ
Testing Library	        React Testing Library ã«ç‰¹åŒ–ã—ãŸè£œå®Œ
ESLint + Prettier	    ã‚³ãƒ¼ãƒ‰æ•´å½¢ï¼†ã‚¨ãƒ©ãƒ¼æ¤œçŸ¥
Cypress Snippets	    Cypress ç”¨ã®å…¥åŠ›è£œå®Œ

âœ… è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾‹ï¼ˆ.vscode/settings.jsonï¼‰
json
{
  "jest.autoRun": {
    "watch": true
  },
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "files.eol": "\n"
}

âœ… ãƒ†ã‚¹ãƒˆç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã®å‘½åãƒ«ãƒ¼ãƒ«ï¼ˆJestï¼‰
ãƒ•ã‚¡ã‚¤ãƒ«å	            æ„å‘³
sum.test.js	        é€šå¸¸ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
App.test.jsx	    Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ
*.cy.js	            Cypressãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«

âœ… ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ–¹æ³•
æ–¹æ³•	                ã‚³ãƒãƒ³ãƒ‰
Jest ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ	       npx jest
UIä»˜ããƒ†ã‚¹ãƒˆå®Ÿè¡Œ	   npx jest --watchAll
Reactã®UIãƒ†ã‚¹ãƒˆå®Ÿè¡Œ	   npx jestï¼ˆåŒä¸Šï¼‰
Cypressèµ·å‹•	          npx cypress open

ğŸ” 3. ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨è§£æ±ºæ³•
å•é¡Œ	                                è§£æ±ºæ³•
SyntaxError: Cannot use import	    Babelã‚’å°å…¥ã—ã€babel-jestã‚’è¨­å®š
jest is not recognized	            npm install --save-dev jest ã‚’å¿˜ã‚Œã¦ã„ãªã„ã‹ç¢ºèª
JSXãŒã‚¨ãƒ©ãƒ¼ã«ãªã‚‹	                  .babelrcãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
DOMé–¢é€£ã§ã‚¨ãƒ©ãƒ¼	                     "testEnvironment": "jsdom" ã‚’è¨­å®š

âœ… è£œè¶³ï¼šReact + Viteã®å ´åˆã®ç‰¹åˆ¥å¯¾å¿œ
bash
npm install --save-dev vitest @testing-library/react jsdom
vitest.config.jsï¼š

js
import { defineConfig } from 'vitest/config';

export default defineConfig({
  test: {
    environment: 'jsdom',
  },
});
package.json:

json
"scripts": {
  "test": "vitest"
}
ğŸ¯ çµè«–ï¼šã¾ãšã“ã‚Œã‹ã‚‰ï¼
bash
# ã¾ãšãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’å§‹ã‚ãŸã„ãªã‚‰
npm install --save-dev jest
npx jest --init


ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ†ã‚¹ãƒˆæ‰‹æ³•å®Œå…¨ãƒã‚¹ã‚¿ãƒ¼ï¼åŸºæœ¬ã®ãƒ†ã‚¹ãƒˆæ‰‹æ³•ã‹ã‚‰TDDã¾ã§
https://www.youtube.com/watch?v=EOEt6kcadeQ