WebDesign アクセシビリティ対応 キーボード操作対応 20250730

キーボード操作：Tab、Enter、Escapeキー対応の意味は？
マウスを使わずに キーボードだけで操作できるUI設計のこと。

🔸 Tabキー対応
意味：フォーカスを次の要素に移動するためのキー 対応箇所：
HTMLで <button> 要素を使うと、ブラウザは自動的にタブキー操作可能にしてくれます。
モーダルやアコーディオンの <button> やリンクはすべて Tabキーでフォーカス移動できます。

✅ 対応済みコード例（自動的にTab対象になる要素）：
html
<button id="openModal">モーダルを開く</button>
<button id="closeModal">閉じる</button>

🔸 Enterキー対応
意味：フォーカスされているボタンやリンクを アクティブ化（クリック） するキー 対応箇所：
<button>要素にフォーカスがある状態でEnterキーを押すと、JavaScriptの click() イベントが発火します。
特別な設定は必要ないですが、アコーディオンのようにキーボードイベントで制御したい場合は明示的なコードで対応します。

✅ 対応済みコード（アコーディオンのEnterキー対応）：
javascript
btn.addEventListener('keydown', (e) => {
  if (e.key === 'Enter' || e.key === ' ') {
    e.preventDefault();
    btn.click(); // EnterまたはSpaceキーで開閉
  }
});

🔸 Escapeキー対応
意味：モーダルなどの 閉じる操作 によく使われるキー 対応箇所：
モーダルの JavaScript で Escapeキーの押下を検知して close ボタンをプログラム的にクリックしています。

✅ 対応済みコード（モーダルのEscapeキー対応）：
javascript
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape' && modal.style.display === 'flex') {
    closeBtn.click(); // モーダルを閉じる
  }
});

🌟 まとめ
キー	            役割	                    対応方法
Tab	            フォーカス移動	               <button>などフォーカス可能要素を使用
Enter/Space	    アクティブ化（開く・閉じる）	keydown イベントで明示的に対応
Escape	        閉じる	                      keydown イベント＋ click()


🟧 未対応の状態だと起こる典型的な動作例：

⌨️ Tabキー
本来の役割：フォーカスを次のフォーカス可能な要素（ボタン、リンク、フォームなど）に移動させる

未対応の場合：
tabindexが未設定 or 非フォーカス要素のみ → フォーカスが意図しない要素に飛ぶ、または飛ばない
カスタムコンポーネントにフォーカスが当たらず、ユーザーがUIを操作できなくなる

⌨️ Enterキー
本来の役割：フォーム送信やボタンのクリックを確定する

未対応の場合：
buttonタグでなく、divやspanで代用 → Enterキーでアクションが実行されない
イベントリスナー（例：onKeyDown）が未実装 → キーボード操作が無反応

⌨️ Escapeキー
本来の役割：モーダルを閉じる、ポップアップをキャンセルするなど

未対応の場合：
keydownイベントでのEscape検知なし → モーダルなどが閉じられず、ユーザーが閉じ方に迷う
一部のUIで「戻る」動作ができず、マウス操作を強いられる

💡補足：ユーザー体験の影響
対応していないと、視覚障がい者を含む多くのユーザーにとって操作が困難になります。
また、モバイルやキーボード主体の環境でも支障が出るため、アクセシビリティの観点からも重大な課題と言えるんです。